<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">registerActiveDirectoryListener</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKU3RyaW5n
IHVybCA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJ1cmwiKTsKU3RyaW5n
IHByaW5jaXBhbCA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJwcmluY2lw
YWwiKTsKU3RyaW5nIGNyZWRlbnRpYWxzID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1
cnNvciwgImNyZWRlbnRpYWxzIik7ClN0cmluZyBzZWFyY2hCYXNlID0gSURhdGFVdGlsLmdldFN0
cmluZyhwaXBlbGluZUN1cnNvciwgInNlYXJjaEJhc2VfZG4iKTsKU3RyaW5nIHNlYXJjaEZpbHRl
ciA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJzZWFyY2hGaWx0ZXIiKTsK
U3RyaW5nW10gdXNlclJldHVybkF0dHJpYnV0ZXMgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nQXJyYXko
cGlwZWxpbmVDdXJzb3IsICJyZXR1cm5BdHRyaWJ1dGVzIik7ClN0cmluZyBzZXJ2aWNlID0gSURh
dGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwgInNlcnZpY2UiKTsKU3RyaW5nIHVzZXJJ
ZE5hbWUgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKHBpcGVsaW5lQ3Vyc29yLCAidXNlcklkQXR0cmli
dXRlTmFtZSIpOwpTdHJpbmcgdXNlcklkID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1
cnNvciwgIndtdXNlciIpOwpTdHJpbmcgdGltZW91dCA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlw
ZWxpbmVDdXJzb3IsICJ0aW1lb3V0Iik7ClN0cmluZyByZXN0YXJ0SW50ZXJ2YWxTdHIgPSBJRGF0
YVV0aWwuZ2V0U3RyaW5nKHBpcGVsaW5lQ3Vyc29yLCAicmVzdGFydEludGVydmFsIik7ClN0cmlu
ZyBkZWJ1Z0xldmVsID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwgImRlYnVn
TGV2ZWwiKTsKU3RyaW5nIGFsdExvZyA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJz
b3IsICJhbHRMb2ciKTsKCnBpcGVsaW5lQ3Vyc29yLmRlc3Ryb3koKTsKCQkKLy8gcHJvY2VzcwoK
bG9uZyByZXN0YXJ0SW50ZXJ2YWwgPSAwOwoKdHJ5IHsKCXJlc3RhcnRJbnRlcnZhbCA9IExvbmcu
cGFyc2VMb25nKHJlc3RhcnRJbnRlcnZhbFN0cik7Cn0gY2F0Y2goRXhjZXB0aW9uIGUpIHt9OyAv
LyBpZ25vcmUKCiBIYXNodGFibGU8U3RyaW5nLCBTdHJpbmc+IGVudiA9IG5ldyBIYXNodGFibGU8
U3RyaW5nLCBTdHJpbmc+KCk7CSAgICAgIAogZW52LnB1dChDb250ZXh0LklOSVRJQUxfQ09OVEVY
VF9GQUNUT1JZLCJjb20uc3VuLmpuZGkubGRhcC5MZGFwQ3R4RmFjdG9yeSIpOwogZW52LnB1dChD
b250ZXh0LlBST1ZJREVSX1VSTCwgdXJsKTsKIGVudi5wdXQoQ29udGV4dC5TRUNVUklUWV9BVVRI
RU5USUNBVElPTiwic2ltcGxlIik7CiBlbnYucHV0KENvbnRleHQuU0VDVVJJVFlfUFJJTkNJUEFM
LCBwcmluY2lwYWwpOwogZW52LnB1dChDb250ZXh0LlNFQ1VSSVRZX0NSRURFTlRJQUxTLGNyZWRl
bnRpYWxzKTsKIAogaWYgKHRpbWVvdXQgIT0gbnVsbCAmJiBJbnRlZ2VyLnBhcnNlSW50KHRpbWVv
dXQpID4gMCkKCSBlbnYucHV0KCJjb20uc3VuLmpuZGkubGRhcC5jb25uZWN0LnRpbWVvdXQiLCB0
aW1lb3V0KTsKIAogdHJ5IAogewkKCSBEaXJTeW5jRXZlbnRMaXN0ZW5lciBsaXN0ZW5lciA9IF9s
aXN0ZW5lcnMuZ2V0KHNlcnZpY2UpOwoJCQkgCgkgaWYgKGxpc3RlbmVyICE9IG51bGwpCgkgewoJ
CSB0cnkgewoJCQkgbGlzdGVuZXIucGxlYXNlU3RvcCgpOwoJCSB9IGNhdGNoIChOYW1pbmdFeGNl
cHRpb24gZSkgeyB9CgkgfQkJCgkJCgkgaWYgKHNlYXJjaEZpbHRlciA9PSBudWxsKQoJCSBzZWFy
Y2hGaWx0ZXIgPSBTRUFSQ0hfRklMVEVSOwoJIAoJIGxpc3RlbmVyID0gIG5ldyBEaXJTeW5jRXZl
bnRMaXN0ZW5lcihlbnYsIHNlYXJjaEJhc2UsIHNlYXJjaEZpbHRlciwgdXNlclJldHVybkF0dHJp
YnV0ZXMsIHNlcnZpY2UsIHVzZXJJZCwgZGVidWdMZXZlbCk7CiAgICAgIAoJIGlmICh1c2VySWRO
YW1lICE9IG51bGwpCgkJIGxpc3RlbmVyLnNldFVzZXJJZEF0dHJpYnV0ZU5hbWUodXNlcklkTmFt
ZSk7CgkgCgkgaWYgKGFsdExvZyAhPSBudWxsKQoJCSBsaXN0ZW5lci5zZXRBbHRMb2dnZXIoYWx0
TG9nKTsKICAgICAgCgkgbGlzdGVuZXIuc3RhcnR1cChyZXN0YXJ0SW50ZXJ2YWwpOwogICAgICAK
CSBfbGlzdGVuZXJzLnB1dChzZXJ2aWNlLCBsaXN0ZW5lcik7CiB9CiBjYXRjaCAoTmFtaW5nRXhj
ZXB0aW9uIGUpIAogewoJIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJMREFQIE5vdGlmaWNh
dGlvbiByZWdpc3RyYXRpb24gZmFpbHVyZS4gIiArIGUpOwogfSAKIA==</value>
</Values>
