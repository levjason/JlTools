<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="shared">CQpwdWJsaWMgc3RhdGljIFN0cmluZyBmaW5kUGF0aChTdHJpbmcgYmFzZVBhdGgsIFN0cmluZyBm
aWxlKSB7CiAgICAKCUZpbGVbXSBmaWxlcyA9IG5ldyBGaWxlKGJhc2VQYXRoKS5saXN0RmlsZXMo
KTsKCVN0cmluZyBmb3VuZFBhdGg7CgoJZm9yIChpbnQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7
IGkrKykgewoJCQkJCQoJCWlmIChmaWxlLmVxdWFscyhmaWxlc1tpXS5nZXROYW1lKCkpKSB7CgkJ
CXJldHVybiBmaWxlc1tpXS5nZXRBYnNvbHV0ZVBhdGgoKTsKCQl9IGVsc2UgaWYgKGZpbGVzW2ld
LmlzRGlyZWN0b3J5KCkpIHsKCQkJZm91bmRQYXRoID0gZmluZFBhdGgoZmlsZXNbaV0uZ2V0QWJz
b2x1dGVQYXRoKCksIGZpbGUpOwoJCQkKCQkJaWYgKGZvdW5kUGF0aCAhPSBudWxsKSB7CgkJCQly
ZXR1cm4gZm91bmRQYXRoOwoJCQl9CgkJfQoJfQoJCglyZXR1cm4gbnVsbDsKfQoKcHJpdmF0ZSBz
dGF0aWMgU3RyaW5nW10gcmVhZEZpbGVBc1N0cmluZ0xpc3QoU3RyaW5nIGZuYW1lLCBTdHJpbmdb
XSBmaWx0ZXJzLCBpbnQgbWF4TGluZXMpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKCQoJSW5w
dXRTdHJlYW0gaXMgPSBuZXcgQnl0ZUFycmF5SW5wdXRTdHJlYW0ocmVhZEZpbGUoZm5hbWUpKTsK
CQoJTGlzdDxTdHJpbmc+IGxpbmVzID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CglTdHJpbmcg
bGluZSA9IG51bGw7CgkKCXRyeSAoQnVmZmVyZWRSZWFkZXIgcmRyID0gbmV3IEJ1ZmZlcmVkUmVh
ZGVyKG5ldyBJbnB1dFN0cmVhbVJlYWRlcihpcykpOykgewoJCXdoaWxlICgobGluZT1yZHIucmVh
ZExpbmUoKSkgIT0gbnVsbCkgewoJCQlpZiAoZmlsdGVycyA9PSBudWxsIHx8IG1hdGNoKGxpbmUs
IGZpbHRlcnMpKQoJCQlsaW5lcy5hZGQobGluZSk7CgkJCQoJCQlpZiAobWF4TGluZXMgPiAwICYm
IGxpbmVzLnNpemUoKSA+IG1heExpbmVzKSB7CgkJCQlsaW5lcy5yZW1vdmUoMCk7CgkJCX0KCQl9
Cgl9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7CgkJdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24o
ZSk7Cgl9CgkJCglyZXR1cm4gbGluZXMudG9BcnJheShuZXcgU3RyaW5nW2xpbmVzLnNpemUoKV0p
Owp9Cgpwcml2YXRlIHN0YXRpYyBib29sZWFuIG1hdGNoKFN0cmluZyBsaW5lLCBTdHJpbmdbXSBm
aWx0ZXJzKSB7CgkKCWJvb2xlYW4gbWF0Y2ggPSBmYWxzZTsKCQoJZm9yIChTdHJpbmcgZiA6IGZp
bHRlcnMpIHsKCQlpZiAobGluZS5jb250YWlucyhmKSkgewoJCQltYXRjaCA9IHRydWU7CgkJCWJy
ZWFrOwoJCX0KCX0KCQoJcmV0dXJuIG1hdGNoOwp9Cgpwcml2YXRlIHN0YXRpYyBieXRlW10gcmVh
ZEZpbGUoU3RyaW5nIGZuYW1lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CgkKCWlmIChmbmFt
ZSA9PSBudWxsKQoJCXRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJwcm92aWRlIGZpbGUgbmFt
ZSBwbGVhc2UiKTsKCQoJLy8gcHJvY2VzcwoJCglieXRlW10gZGF0YSA9IG51bGw7CgkKCXRyeSB7
CgkJZGF0YSA9IEZpbGVzLnJlYWRBbGxCeXRlcyhQYXRocy5nZXQoZm5hbWUpKTsKCX0gY2F0Y2go
Tm9TdWNoRmlsZUV4Y2VwdGlvbiBlKSB7CgkJCgkJdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24o
ZSk7Cgl9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7CgkJCgkJdGhyb3cgbmV3IFNlcnZpY2VFeGNl
cHRpb24oZSk7Cgl9CgkJCQoJcmV0dXJuIGRhdGE7Cn0KCnB1YmxpYyBzdGF0aWMgdm9pZCBkZWNv
bXByZXNzR3pUYXIoRmlsZSBpbiwgRmlsZSBvdXQpIHRocm93cyBJT0V4Y2VwdGlvbiB7CgkKCXRy
eSAoR3ppcENvbXByZXNzb3JJbnB1dFN0cmVhbSBnemlwSW4gPSBuZXcgR3ppcENvbXByZXNzb3JJ
bnB1dFN0cmVhbShuZXcgRmlsZUlucHV0U3RyZWFtKGluKSkpIHsKCQlfZGVjb21wcmVzcyhnemlw
SW4sIG91dCk7Cgl9Cn0KCnB1YmxpYyBzdGF0aWMgdm9pZCBkZWNvbXByZXNzVGFyKEZpbGUgaW4s
IEZpbGUgb3V0KSB0aHJvd3MgSU9FeGNlcHRpb24gewoJCiAgICB0cnkgKFRhckFyY2hpdmVJbnB1
dFN0cmVhbSBmaW4gPSBuZXcgVGFyQXJjaGl2ZUlucHV0U3RyZWFtKG5ldyBGaWxlSW5wdXRTdHJl
YW0oaW4pKSkgewoJCV9kZWNvbXByZXNzKGZpbiwgb3V0KTsKICAgIH0KfQoKcHVibGljIHN0YXRp
YyB2b2lkIF9kZWNvbXByZXNzKElucHV0U3RyZWFtIGluLCBGaWxlIG91dCkgdGhyb3dzIElPRXhj
ZXB0aW9uIHsKCQogICAgdHJ5IChUYXJBcmNoaXZlSW5wdXRTdHJlYW0gZmluID0gbmV3IFRhckFy
Y2hpdmVJbnB1dFN0cmVhbShpbikpIHsKICAgIAkJICAgIAkKICAgICAgICBUYXJBcmNoaXZlRW50
cnkgZW50cnk7CiAgICAgICAgd2hpbGUgKChlbnRyeSA9IGZpbi5nZXROZXh0VGFyRW50cnkoKSkg
IT0gbnVsbCkgewogICAgICAgIAkJICAgICAgICAJCiAgICAgICAgICAgIGlmIChlbnRyeS5pc0Rp
cmVjdG9yeSgpKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAg
ICAgICAgICBGaWxlIGN1cmZpbGUgPSBuZXcgRmlsZShvdXQsIGVudHJ5LmdldE5hbWUoKSk7CiAg
ICAgICAgICAgIEZpbGUgcGFyZW50ID0gY3VyZmlsZS5nZXRQYXJlbnRGaWxlKCk7CiAgICAgICAg
ICAgIGlmICghcGFyZW50LmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICBwYXJlbnQubWtkaXJz
KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgSU9VdGlscy5jb3B5KGZpbiwgbmV3IEZpbGVP
dXRwdXRTdHJlYW0oY3VyZmlsZSkpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGljIHN0YXRpYyBj
bGFzcyBNaW1lQ29udGVudFJlYWRlciB7CgkKCXB1YmxpYyBTdHJpbmcgbGFzdFJlYWRGaWxlOwoJ
cHVibGljIFN0cmluZyBmaWxlTmFtZTsKCXB1YmxpYyBTdHJpbmcgY29udGVudFR5cGU7CgkKCXBy
aXZhdGUgU3RyaW5nIF9leHQ7Cglwcml2YXRlIFN0cmluZyBfcGF0aDsKCXByaXZhdGUgU3RyaW5n
IF9wcmVmaXg7Cglwcml2YXRlIFN0cmluZyBfbWFya2VyOwoJCglwdWJsaWMgTWltZUNvbnRlbnRS
ZWFkZXIoU3RyaW5nIHBhdGgsIFN0cmluZyBmaWxlbmFtZVByZWZpeCwgSW5wdXRTdHJlYW0gaW4s
IFN0cmluZyBleHQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKCQkKCQl0aGlzLl9leHQgPSBl
eHQ7CgkJdGhpcy5fcGF0aCA9IHBhdGg7CgkJdGhpcy5fcHJlZml4ID0gZmlsZW5hbWVQcmVmaXg7
CgkJCgkJT3V0cHV0U3RyZWFtIG91dCA9IG51bGw7CgkJYnl0ZVtdIGJ1ZmZlciA9IG5ldyBieXRl
WzggKiAxMDI0XTsKCSAgICBpbnQgYnl0ZXNSZWFkID0gLTE7CgkgICAgCQkgICAgCgkgICAgdHJ5
IHsKCQkJd2hpbGUgKChieXRlc1JlYWQ9aW4ucmVhZChidWZmZXIpKSAhPSAtMSkgewoJCQkJCgkJ
CQlvdXQgPSByZWFkTWltZURhdGFGcm9tQnVmZmVyKGJ1ZmZlciwgYnl0ZXNSZWFkLCBvdXQpOwoJ
CQl9CgkgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgewoJCQl0aHJvdyBuZXcgU2VydmljZUV4
Y2VwdGlvbihlKTsKCSAgICB9IGZpbmFsbHkgewoJCQkKCSAgICAJaWYgKG91dCAhPSBudWxsKSB7
CgkgICAgCQl0cnkgewoJCQkJCW91dC5jbG9zZSgpOwoJCQkJfSBjYXRjaCAoSU9FeGNlcHRpb24g
ZSkgewoJCQkJCXRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKGUpOwoJCQkJfQoJICAgIAl9CgkJ
fQoJfQoJCglwdWJsaWMgU3RyaW5nIGxhc3RSZWFkRmlsZSgpIHsKCQkKCQlpZiAobGFzdFJlYWRG
aWxlICE9IG51bGwpIHsKCQkJcmV0dXJuIGxhc3RSZWFkRmlsZTsKCQl9IGVsc2UgewoJCQlyZXR1
cm4gZmlsZU5hbWU7CgkJfQoJfQoJCglwdWJsaWMgT3V0cHV0U3RyZWFtIHJlYWRNaW1lRGF0YUZy
b21CdWZmZXIoYnl0ZVtdIGJ1ZmZlciwgaW50IGJ5dGVzUmVhZCwgT3V0cHV0U3RyZWFtIG91dCkg
dGhyb3dzIElPRXhjZXB0aW9uIHsKCQkJCQoJICAgIFN5c3RlbS5vdXQucHJpbnRsbigicHJvY2Vz
c2luZyBidWZmZXIgb2YgIiArIGJ5dGVzUmVhZCArICIgLyAiICsgb3V0KTsKCSAgICAKCQlpbnQg
aW5kZXhJbiA9IDA7CgkJCgkgICAgaWYgKHRoaXMuZmlsZU5hbWUgPT0gbnVsbCkgewoJICAgIAkK
CQkJYm9vbGVhbiBnbyA9IGZhbHNlOwoJCQlTdHJpbmcgbGluZSA9IG51bGw7CgkJCQkgICAgCgkJ
CUJ1ZmZlcmVkUmVhZGVyIHJlYWRlciA9IG5ldyBCdWZmZXJlZFJlYWRlcihuZXcgSW5wdXRTdHJl
YW1SZWFkZXIobmV3IEJ5dGVBcnJheUlucHV0U3RyZWFtKGJ1ZmZlcikpKTsKCgkJCXdoaWxlKCFn
byAmJiAobGluZT1yZWFkZXIucmVhZExpbmUoKSkgIT0gbnVsbCkgewoJCQkJCQkJCQkJCgkJCQlp
bmRleEluICs9IGxpbmUuZ2V0Qnl0ZXMoKS5sZW5ndGggKyAyOwoJCQkJCgkJCQkvL1N5c3RlbS5v
dXQucHJpbnRsbigicHJvY2Vzc2luZyBsaW5lOiAiICsgbGluZSk7CgkJCQkKCQkJCWlmIChfbWFy
a2VyICE9IG51bGwgJiYgbGluZS5sZW5ndGgoKSA9PSAwKSB7CgkJCQkJLy8gaGl0IGJvZHkKCQkJ
CQlnbyA9IHRydWU7CgkJCQkJCgkJCQkJLy9pbmRleEluICs9IDE7CgkJCQkJCQkJCQkJCgkJCQl9
IGVsc2UgaWYgKHRoaXMuZmlsZU5hbWUgPT0gbnVsbCAmJiBsaW5lLnN0YXJ0c1dpdGgoIkNvbnRl
bnQtRGlzcG9zaXRpb24iKSkgewoJCQkJCS8vIHJlYWQgZmlsZSBuYW1lCgkJCQkJCgkJCQkJU3lz
dGVtLm91dC5wcmludGxuKCJtYXJrZXIgaXMgIiArIF9tYXJrZXIpOwoJCQkJCQkJCQkJCQoJCQkJ
CWlmIChsaW5lLmluZGV4T2YoImZpbGVuYW1lPSIpICE9IC0xKQoJCQkJCQl0aGlzLmZpbGVOYW1l
ID0gbGluZS5zdWJzdHJpbmcobGluZS5pbmRleE9mKCJmaWxlbmFtZT0iKSsxMCk7CgkJCQkJZWxz
ZQoJCQkJCQl0aGlzLmZpbGVOYW1lID0gbGluZS5zdWJzdHJpbmcobGluZS5pbmRleE9mKCJuYW1l
PSIpKzYpOwoKCQkJCQl0aGlzLmZpbGVOYW1lID0gdGhpcy5maWxlTmFtZS5zdWJzdHJpbmcoMCwg
dGhpcy5maWxlTmFtZS5pbmRleE9mKCJcIiIpKTsKCQkJCQkKCQkJCQlpZiAodGhpcy5fcHJlZml4
ICE9IG51bGwpIHsKCQkJCQkJdGhpcy5maWxlTmFtZSA9IHRoaXMuX3ByZWZpeCArICItIiArIHRo
aXMuZmlsZU5hbWU7CgkJCQkJfQoJCQkJCQkJCQkJCQoJCQkJCVN5c3RlbS5vdXQucHJpbnRsbigi
TmV4dCBmaWxlIGlzICIgKyB0aGlzLmZpbGVOYW1lKTsKCQkJCX0KCQkJCQoJCQkJaWYgKF9tYXJr
ZXIgPT0gbnVsbCAmJiBsaW5lLnN0YXJ0c1dpdGgoIi0tIikpCgkJCQkJX21hcmtlciA9IGxpbmU7
CgkJCQkKCQkJfSAvLyBlbmQgd2hpbGUJCQoJICAgIH0KCSAgICAKCSAgICAvLyBwcm9jZXNzIGJv
ZHkKCSAKCSAvLyBzaHJpbmsgYnVmZmVyIHRvIGFjdHVhbCBkYXRhIHJlYWQgKGhhcHBlbnMgd2hl
biB3ZSBnZXQgdG8gdGhlIGVuZCBvZiBmaWxlKQoJCQoJCQoJCWJ5dGVbXSBuZXdCdWYgPSBudWxs
OwoJCQoJCWlmIChpbmRleEluID4gMCB8fCBieXRlc1JlYWQgPCBidWZmZXIubGVuZ3RoKSB7CgkJ
CW5ld0J1ZiA9IG5ldyBieXRlW2J5dGVzUmVhZC1pbmRleEluXTsKCQkJaW50IHogPSAwOwoJCSAg
ICBmb3IgKGludCBpID0gaW5kZXhJbjsgaSA8IGJ5dGVzUmVhZDsgaSsrKSB7CgkJICAgIAluZXdC
dWZbeisrXSA9IGJ1ZmZlcltpXTsKCQkgICAgfQoJCSAgICAKCQkgICAgU3lzdGVtLm91dC5wcmlu
dGxuKCJzaHJpbmsgYnVmIHRvICIgKyBuZXdCdWYubGVuZ3RoKTsKCQkgICAgCgkJICAgIGJ1ZmZl
ciA9IG5ld0J1ZjsKCQl9CQoJCQoJICAgIGJ5dGVbXSBtYXJrZXJCeXRlcyA9IF9tYXJrZXIuZ2V0
Qnl0ZXMoKTsKCgkgICAgLy8gbm93IGF0IGNvbnRlbnQgc3RhcnQsIGJ1dCBoYXZlIHdlIHJlYWNo
ZWQgc3RhcnQgb2YgbmV4dCBhdHRhY2htZW50IHRvbyEKCSAgICAKCSAgICBieXRlW10gbGFzdEZp
bGVCdWYgPSBudWxsOwoJICAgIGludCBpbmRleE91dCA9IC0xOwoJICAgIAoJICAgIGlmIChidWZm
ZXIgIT0gbnVsbCAmJiBuZXcgU3RyaW5nKGJ1ZmZlcikuY29udGFpbnMoX21hcmtlcikpIHsKICAg
IAkJCiAgICAJCS8vIHJlYWNoZWQgZW5kIG1hcmtlcgogICAgCQkJCQkJICAgIAkKICAgIAkJaW5k
ZXhPdXQgPSBpbmRleE9mKGJ1ZmZlciwgbWFya2VyQnl0ZXMpIC0gMjsKICAgIAkJCQkgICAgCQkK
ICAgIAkJU3lzdGVtLm91dC5wcmludGxuKCJlbmQgbWFya2VyIGZvciBmaWxlIGlzIGF0ICIgKyBp
bmRleE91dCArICIgb2YgIiArIGJ1ZmZlci5sZW5ndGgpOwogICAgCQkKICAgIAkJaWYgKGluZGV4
T3V0ID4gMCkgewogICAgCQkJbGFzdEZpbGVCdWYgPSBuZXcgYnl0ZVtpbmRleE91dF07CiAgICAJ
CQlpbnQgeiA9IDA7CiAgICAJCQlmb3IgKGludCBpID0gMDsgaSA8IGluZGV4T3V0OyBpKyspIHsK
ICAgIAkJCQlsYXN0RmlsZUJ1Zlt6KytdID0gYnVmZmVyW2ldOwogICAgCQkJfQogICAgCQl9CiAg
ICAJCQogICAgCQlpbnQgZW5kID0gaW5kZXhPdXQrbWFya2VyQnl0ZXMubGVuZ3RoKzY7CiAgICAJ
CWludCBzaXplID0gYnVmZmVyLmxlbmd0aC1lbmQ7CiAgICAJCQoJICAgIAlTeXN0ZW0ub3V0LnBy
aW50bG4oInJlbWFpbmRlciBpcyAiICsgZW5kKTsKCgkJICAgIC8vIHByZXBhcmUgZm9yIG5leHQg
YXR0YWNobWVudCBpZiAoYW55KQoJCSAgICAKCQkgICAgaWYgKHNpemUgPiAwKSB7CgkJICAgIAkJ
CQkgICAgCQoJCSAgICAJYnl0ZVtdIG5leHRGaWxlQnVmID0gbmV3IGJ5dGVbc2l6ZV07CgkJICAg
IAlpbnQgeiA9IDA7CgkJICAgIAlmb3IgKGludCBpID0gZW5kOyBpIDwgYnVmZmVyLmxlbmd0aDsg
aSsrKSB7CgkJICAgIAkJbmV4dEZpbGVCdWZbeisrXSA9IGJ1ZmZlcltpXTsKCQkgICAgCX0KCQkg
ICAgCgkJICAgIAlidWZmZXIgPSBuZXh0RmlsZUJ1ZjsKCQkgICAgCQoJCSAgICB9IGVsc2UgewoJ
CSAgICAJYnVmZmVyID0gbnVsbDsKCQkgICAgfQkJCSAgICAKICAgIAl9CgkgICAgCQkgICAgCgkg
ICAgaWYgKG91dCA9PSBudWxsIHx8IGxhc3RGaWxlQnVmICE9IG51bGwpIHsKCQkJCSAgICAJCgkg
ICAgCS8vIGN1cnJlbnQgZmlsZSBub3QgeWV0IHN0YXJ0ZWQsIG9wZW4gaXQKCSAgICAJCgkgICAg
CWlmIChvdXQgPT0gbnVsbCkgewoJCSAgICAJCQkJCQkKCSAgICAJCWlmIChfZXh0ICE9IG51bGwg
JiYgIXRoaXMuZmlsZU5hbWUuZW5kc1dpdGgoX2V4dCkpIHsKCQkJCQlpZiAoX2V4dC5zdGFydHNX
aXRoKCIuIikpCgkJCQkJCXRoaXMuZmlsZU5hbWUgKz0gX2V4dDsKCQkJCQllbHNlCgkJCQkJCXRo
aXMuZmlsZU5hbWUgKz0gIi4iICsgX2V4dDsKCQkJCX0KCQkJCQkJCQkJCQkJCgkJCQlvdXQgPSBu
ZXcgRmlsZU91dHB1dFN0cmVhbShuZXcgRmlsZShfcGF0aCwgdGhpcy5maWxlTmFtZSkpOwoJICAg
IAl9IAoJICAgIAkKCSAgICAJaWYgKGxhc3RGaWxlQnVmICE9IG51bGwpIHsKCQkJCgkJICAgIAkv
LyByZWFjaGVkIGVuZCBvZiBjdXJyZW50IGZpbGUsIHdyaXRlIGVuZCBvZiBmaWxlCgoJCQkJU3lz
dGVtLm91dC5wcmludGxuKCJmaW5pc2hpbmcgY3VycmVudCBmaWxlIik7CgkJCQkKCQkJCW91dC53
cml0ZShsYXN0RmlsZUJ1Zik7CgkJCQlvdXQuY2xvc2UoKTsKCQkJCXRoaXMubGFzdFJlYWRGaWxl
ID0gdGhpcy5maWxlTmFtZTsKCQkJCXRoaXMuZmlsZU5hbWUgPSBudWxsOwoJCQkJb3V0ID0gbnVs
bDsKCQkJCQoJCQkJLy8gc3RhcnQgbmV4dCBmaWxlIAoJCQkJCQkJCgkJCQlpZiAoYnVmZmVyICE9
IG51bGwpCgkJCQkJb3V0ID0gdGhpcy5yZWFkTWltZURhdGFGcm9tQnVmZmVyKGJ1ZmZlciwgYnVm
ZmVyLmxlbmd0aCwgb3V0KTsKCQkJCQoJCQkJU3lzdGVtLm91dC5wcmludGxuKCI+Pj4+Pj4gYmFj
a2luZyBvdXQgb2YgY3VycmVudCByZW1haW5kZXIiKTsKCQkJCQoJCQl9IGVsc2UgewoJCQkJLy8g
ZW5kIG9mIGZpbGUgaXMgb3V0c2lkZSBvZiBidWZmZXIsIHNvIGp1c3Qgd3JpdGUgYnVmCgkJCQkK
CQkJCVN5c3RlbS5vdXQucHJpbnRsbigid3JpdGluZyBjdXJyZW50IGJ1ZmZlciB0byBuZXcgZmls
ZSAiICsgdGhpcy5maWxlTmFtZSArICIgLyAiICsgb3V0KTsKCQkJCQoJCQkJb3V0LndyaXRlKGJ1
ZmZlcik7CgkJCX0KCQkJCgkJfSBlbHNlIGlmIChidWZmZXIgIT0gbnVsbCkgewoJCQkKCQkJLy8g
cmlnaHQgaW4gdGhlIG1pZGRsZSwgc28gd3JpdGUgYnVmZmVyIHRvIGV4aXN0aW5nIG91dHB1dAoJ
CQkKCQkJU3lzdGVtLm91dC5wcmludGxuKCJ3cml0aW5nIGN1cnJlbnQgYnVmZmVyIHRvICIgKyB0
aGlzLmZpbGVOYW1lKTsKCQkJCgkJCW91dC53cml0ZShidWZmZXIpOwoJCX0KCSAgICAKCSAgICBy
ZXR1cm4gb3V0OwoJfQkJCn0KCnB1YmxpYyBzdGF0aWMgaW50IGluZGV4T2YoYnl0ZVtdIGRhdGEs
IGJ5dGVbXSBwYXR0ZXJuKSB7CgkgICAKCWludFtdIGZhaWx1cmUgPSBjb21wdXRlRmFpbHVyZShw
YXR0ZXJuKTsKCiAgICBpbnQgaiA9IDA7CgogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBkYXRhLmxl
bmd0aDsgaSsrKSB7CiAgICAgICAgd2hpbGUgKGogPiAwICYmIHBhdHRlcm5bal0gIT0gZGF0YVtp
XSkgewogICAgICAgICAgICBqID0gZmFpbHVyZVtqIC0gMV07CiAgICAgICAgfQogICAgICAgIGlm
IChwYXR0ZXJuW2pdID09IGRhdGFbaV0pIHsgCiAgICAgICAgICAgIGorKzsgCiAgICAgICAgfQog
ICAgICAgIGlmIChqID09IHBhdHRlcm4ubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiBpIC0g
cGF0dGVybi5sZW5ndGggKyAxOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAtMTsKfQoKcHJp
dmF0ZSBzdGF0aWMgaW50W10gY29tcHV0ZUZhaWx1cmUoYnl0ZVtdIHBhdHRlcm4pIHsKICAgCglp
bnRbXSBmYWlsdXJlID0gbmV3IGludFtwYXR0ZXJuLmxlbmd0aF07CgogICAgaW50IGogPSAwOwog
ICAgZm9yIChpbnQgaSA9IDE7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgd2hp
bGUgKGo+MCAmJiBwYXR0ZXJuW2pdICE9IHBhdHRlcm5baV0pIHsKICAgICAgICAgICAgaiA9IGZh
aWx1cmVbaiAtIDFdOwogICAgICAgIH0KICAgICAgICBpZiAocGF0dGVybltqXSA9PSBwYXR0ZXJu
W2ldKSB7CiAgICAgICAgICAgIGorKzsKICAgICAgICB9CiAgICAgICAgZmFpbHVyZVtpXSA9IGo7
CiAgICB9CgogICAgcmV0dXJuIGZhaWx1cmU7Cn0KCnB1YmxpYyBzdGF0aWMgU3RyaW5nIHRvSGV4
KGJ5dGVbXSBieXRlcykgewoJQmlnSW50ZWdlciBiaSA9IG5ldyBCaWdJbnRlZ2VyKDEsIGJ5dGVz
KTsKCXJldHVybiBTdHJpbmcuZm9ybWF0KCIlMCIgKyAoYnl0ZXMubGVuZ3RoIDw8IDEpICsgIlgi
LCBiaSk7Cn0KCnByaXZhdGUgc3RhdGljIElEYXRhIG1ha2VWYWx1ZXNJbnRvSURhdGEoVmFsdWVz
IHYpIHsKCQoJSURhdGEgb3V0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwoJSURhdGFDdXJzb3Ig
YyA9IG91dC5nZXRDdXJzb3IoKTsKCQoJRW51bWVyYXRpb248U3RyaW5nPiBlID0gdi5rZXlzKCk7
CgkKCXdoaWxlIChlLmhhc01vcmVFbGVtZW50cygpKSB7CgkJU3RyaW5nIGtleSA9IGUubmV4dEVs
ZW1lbnQoKTsKCQlPYmplY3QgIHZhbHVlID0gdi5nZXQoa2V5KTsKCQkKCQlJRGF0YVV0aWwucHV0
KGMsIGtleSwgdmFsdWUpOwoJfQoJCgljLmRlc3Ryb3koKTsKCXJldHVybiBvdXQ7Cn0KCnByaXZh
dGUgc3RhdGljIGNsYXNzIERpckNvcGllciBleHRlbmRzIFNpbXBsZUZpbGVWaXNpdG9yPFBhdGg+
IHsKCQoJcHJpdmF0ZSBQYXRoIF9zcmM7Cglwcml2YXRlIFBhdGggX3RndDsKCQoJRGlyQ29waWVy
KFBhdGggc3JjLCBQYXRoIHRndCkgewoJCQoJCXRoaXMuX3NyYyA9IHNyYzsKCQl0aGlzLl90Z3Qg
PSB0Z3Q7Cgl9CgkKCXB1YmxpYyB2b2lkIGNvcHkoYm9vbGVhbiBvdmVyd3JpdGUpIHRocm93cyBJ
T0V4Y2VwdGlvbiwgU2VydmljZUV4Y2VwdGlvbiB7CgkJCgkJaWYgKHRoaXMuX3RndC50b0ZpbGUo
KS5leGlzdHMoKSAmJiBvdmVyd3JpdGUpCgkJCXRoaXMuX3RndC50b0ZpbGUoKS5kZWxldGUoKTsK
CQllbHNlIGlmICh0aGlzLl90Z3QudG9GaWxlKCkuZXhpc3RzKCkpCgkJCXRocm93IG5ldyBTZXJ2
aWNlRXhjZXB0aW9uKCJUYXJnZXQgZGlyZWN0b3J5IGFscmVhZHkgZXhpc3RzIGFuZCBvdmVyd3Jp
dGUgbm90IHNwZWNpZmllZCE6ICIgKyB0aGlzLl90Z3QudG9GaWxlKCkuZ2V0Q2Fub25pY2FsUGF0
aCgpKTsKCQkKCQkgRmlsZXMud2Fsa0ZpbGVUcmVlKF9zcmMsIHRoaXMpOwoJfQoJCglAT3ZlcnJp
ZGUKICAgIHB1YmxpYyBGaWxlVmlzaXRSZXN1bHQgdmlzaXRGaWxlKFBhdGggZmlsZSwgQmFzaWNG
aWxlQXR0cmlidXRlcyBhdHRyaWJ1dGVzKSB7CiAKICAgICAgICB0cnkgewogICAgICAgICAgICBQ
YXRoIHRhcmdldEZpbGUgPSBfdGd0LnJlc29sdmUoX3NyYy5yZWxhdGl2aXplKGZpbGUpKTsKICAg
ICAgICAgICAgRmlsZXMuY29weShmaWxlLCB0YXJnZXRGaWxlKTsKICAgICAgICB9IGNhdGNoIChJ
T0V4Y2VwdGlvbiBleCkgewogICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oZXgpOwogICAg
ICAgIH0KIAogICAgICAgIHJldHVybiBGaWxlVmlzaXRSZXN1bHQuQ09OVElOVUU7CiAgICB9CiAK
ICAgIEBPdmVycmlkZQogICAgcHVibGljIEZpbGVWaXNpdFJlc3VsdCBwcmVWaXNpdERpcmVjdG9y
eShQYXRoIGRpciwgQmFzaWNGaWxlQXR0cmlidXRlcyBhdHRyaWJ1dGVzKSB7CiAgICAgICAgdHJ5
IHsKICAgICAgICAgICAgUGF0aCBuZXdEaXIgPSBfdGd0LnJlc29sdmUoX3NyYy5yZWxhdGl2aXpl
KGRpcikpOwogICAgICAgICAgICBGaWxlcy5jcmVhdGVEaXJlY3RvcnkobmV3RGlyKTsKICAgICAg
ICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBleCkgewogICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50
bG4oZXgpOwogICAgICAgIH0KIAogICAgICAgIHJldHVybiBGaWxlVmlzaXRSZXN1bHQuQ09OVElO
VUU7CiAgICB9Cn0KCnByaXZhdGUgc3RhdGljIHZvaWQgZGVsZXRlRGlyKEZpbGUgZWxlbWVudCkg
dGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgaWYgKGVsZW1lbnQuaXNEaXJlY3RvcnkoKSkg
ewogICAgCWlmIChlbGVtZW50Lmxpc3RGaWxlcygpICE9IG51bGwpIHsKICAgIAkJZm9yIChGaWxl
IHN1YiA6IGVsZW1lbnQubGlzdEZpbGVzKCkpIHsKICAgIAkJCWRlbGV0ZURpcihzdWIpOwogICAg
CQl9CiAgICAJfQogICAgfQogICAgCQkgICAgCiAgICBpZiAoIWVsZW1lbnQuZGVsZXRlKCkpCiAg
ICAJdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkNhbm5vdCBkZWxldGUgZmlsZSAnIiArIGVs
ZW1lbnQuZ2V0QWJzb2x1dGVQYXRoKCkpOwp9Cgpwcml2YXRlIHN0YXRpYyBMaXN0PFN0cmluZz4g
bGlzdGYoU3RyaW5nIGRpciwgU3RyaW5nIGZpbHRlcikgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24g
ewoJCglGaWxlIGRpcmVjdG9yeSA9IG5ldyBGaWxlKGRpcik7CgogICAgTGlzdDxTdHJpbmc+IHJl
c3VsdExpc3QgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTsKCiAgICAvLyBnZXQgYWxsIHRoZSBm
aWxlcyBmcm9tIGEgZGlyZWN0b3J5CiAgICBGaWxlW10gZkxpc3QgPSBkaXJlY3RvcnkubGlzdEZp
bGVzKCk7CiAgICAKICAgIGlmIChmTGlzdCAhPSBudWxsKSB7CiAgICAJZm9yIChGaWxlIGZpbGUg
OiBmTGlzdCkgewogICAgCQogICAgCQlpZiAoZmlsZS5pc0ZpbGUoKSAmJiAoZmlsdGVyID09IG51
bGwgfHwgZmlsZS5nZXROYW1lKCkubWF0Y2hlcyhmaWx0ZXIpKSkgewogICAgCQkJcmVzdWx0TGlz
dC5hZGQoZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7CiAgICAJCiAgICAJCX0gZWxzZSBpZiAoZmls
ZS5pc0RpcmVjdG9yeSgpKSB7CiAgICAJCQlyZXN1bHRMaXN0LmFkZEFsbChsaXN0ZihmaWxlLmdl
dEFic29sdXRlUGF0aCgpLCBmaWx0ZXIpKTsKICAgIAkJfQogICAgCX0KICAgIAogICAgCXJldHVy
biByZXN1bHRMaXN0OwogICAgfSBlbHNlIHsKICAgIAkvL3Rocm93IG5ldyBTZXJ2aWNlRXhjZXB0
aW9uKCJObyBmaWxlcyBmb3VuZCBmb3I6ICIgKyBkaXIpOwogICAgCQogICAgCXJldHVybiBudWxs
OwogICAgfQp9Cgpwcml2YXRlIHN0YXRpYyBjbGFzcyBaaXBwZXIgewoJCglwcml2YXRlIFN0cmlu
ZyBfc291cmNlRm9sZGVyOwoJCglwcml2YXRlIExpc3QgPFN0cmluZz4gZmlsZUxpc3QgPSBuZXcg
QXJyYXlMaXN0PFN0cmluZz4oKTsKCQoJcHVibGljIHZvaWQgemlwSXQoU3RyaW5nIHNvdXJjZUZv
bGRlciwgU3RyaW5nIHppcEZpbGUpIHsKCQkKCQl0aGlzLl9zb3VyY2VGb2xkZXIgPSBzb3VyY2VG
b2xkZXI7CgkKCQl0aGlzLmdlbmVyYXRlRmlsZUxpc3QobmV3IEZpbGUoc291cmNlRm9sZGVyKSk7
CgkJCQoJICAgIGJ5dGVbXSBidWZmZXIgPSBuZXcgYnl0ZVsxMDI0XTsKCSAgICBTdHJpbmcgc291
cmNlID0gbmV3IEZpbGUoc291cmNlRm9sZGVyKS5nZXROYW1lKCk7CgkgICAgRmlsZU91dHB1dFN0
cmVhbSBmb3MgPSBudWxsOwoJICAgIFppcE91dHB1dFN0cmVhbSB6b3MgPSBudWxsOwoJICAgIHRy
eSB7CgkgICAgICAgIGZvcyA9IG5ldyBGaWxlT3V0cHV0U3RyZWFtKHppcEZpbGUpOwoJICAgICAg
ICB6b3MgPSBuZXcgWmlwT3V0cHV0U3RyZWFtKGZvcyk7CgkKCSAgICAgICAgRmlsZUlucHV0U3Ry
ZWFtIGluID0gbnVsbDsKCQoJICAgICAgICBmb3IgKFN0cmluZyBmaWxlOiB0aGlzLmZpbGVMaXN0
KSB7CgkgICAgICAgICAgICBaaXBFbnRyeSB6ZSA9IG5ldyBaaXBFbnRyeShzb3VyY2UgKyBGaWxl
LnNlcGFyYXRvciArIGZpbGUpOwoJICAgICAgICAgICAgem9zLnB1dE5leHRFbnRyeSh6ZSk7Cgkg
ICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGluID0gbmV3IEZpbGVJbnB1dFN0cmVh
bSh0aGlzLl9zb3VyY2VGb2xkZXIgKyBGaWxlLnNlcGFyYXRvciArIGZpbGUpOwoJICAgICAgICAg
ICAgICAgIGludCBsZW47CgkgICAgICAgICAgICAgICAgd2hpbGUgKChsZW4gPSBpbiAucmVhZChi
dWZmZXIpKSA+IDApIHsKCSAgICAgICAgICAgICAgICAgICAgem9zLndyaXRlKGJ1ZmZlciwgMCwg
bGVuKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9IGZpbmFsbHkgewoJICAgICAg
ICAgICAgICAgIGluLmNsb3NlKCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCQoJICAgICAg
ICB6b3MuY2xvc2VFbnRyeSgpOwoJICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkZvbGRlciBz
dWNjZXNzZnVsbHkgY29tcHJlc3NlZCIpOwoJCgkgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgp
IHsKCSAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7CgkgICAgfSBmaW5hbGx5IHsKCSAgICAg
ICAgdHJ5IHsKCSAgICAgICAgICAgIHpvcy5jbG9zZSgpOwoJICAgICAgICB9IGNhdGNoIChJT0V4
Y2VwdGlvbiBlKSB7CgkgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwoJICAgICAgICB9
CgkgICAgfQoJfQoJCglwdWJsaWMgdm9pZCBnZW5lcmF0ZUZpbGVMaXN0KEZpbGUgbm9kZSkgewoJ
ICAgIC8vIGFkZCBmaWxlIG9ubHkKCSAgICBpZiAobm9kZS5pc0ZpbGUoKSkgewoJICAgICAgICBm
aWxlTGlzdC5hZGQoZ2VuZXJhdGVaaXBFbnRyeShub2RlLnRvU3RyaW5nKCkpKTsKCSAgICB9CgkK
CSAgICBpZiAobm9kZS5pc0RpcmVjdG9yeSgpKSB7CgkgICAgICAgIFN0cmluZ1tdIHN1Yk5vdGUg
PSBub2RlLmxpc3QoKTsKCSAgICAgICAgZm9yIChTdHJpbmcgZmlsZW5hbWU6IHN1Yk5vdGUpIHsK
CSAgICAgICAgICAgIGdlbmVyYXRlRmlsZUxpc3QobmV3IEZpbGUobm9kZSwgZmlsZW5hbWUpKTsK
CSAgICAgICAgfQoJICAgIH0KCX0KCQoJcHJpdmF0ZSBTdHJpbmcgZ2VuZXJhdGVaaXBFbnRyeShT
dHJpbmcgZmlsZSkgewoJCQkJCgkgICAgcmV0dXJuIGZpbGUuc3Vic3RyaW5nKF9zb3VyY2VGb2xk
ZXIubGVuZ3RoKCkgKyAxLCBmaWxlLmxlbmd0aCgpKTsKCX0KfQoKcHVibGljIHN0YXRpYyBjbGFz
cyBVbnppcEZpbGVzIHsKCQogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB1bnppcChTdHJpbmcgemlw
RmlsZVBhdGgsIFN0cmluZyBkZXN0RGlyKSB7CiAgICAgICAgRmlsZSBkaXIgPSBuZXcgRmlsZShk
ZXN0RGlyKTsKICAgICAgICAvLyBjcmVhdGUgb3V0cHV0IGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0
IGV4aXN0CiAgICAgICAgaWYoIWRpci5leGlzdHMoKSkgZGlyLm1rZGlycygpOwogICAgICAgIEZp
bGVJbnB1dFN0cmVhbSBmaXM7CiAgICAgICAgLy9idWZmZXIgZm9yIHJlYWQgYW5kIHdyaXRlIGRh
dGEgdG8gZmlsZQogICAgICAgIGJ5dGVbXSBidWZmZXIgPSBuZXcgYnl0ZVsxMDI0XTsKICAgICAg
ICB0cnkgewogICAgICAgICAgICBmaXMgPSBuZXcgRmlsZUlucHV0U3RyZWFtKHppcEZpbGVQYXRo
KTsKICAgICAgICAgICAgWmlwSW5wdXRTdHJlYW0gemlzID0gbmV3IFppcElucHV0U3RyZWFtKGZp
cyk7CiAgICAgICAgICAgIFppcEVudHJ5IHplID0gemlzLmdldE5leHRFbnRyeSgpOwogICAgICAg
ICAgICB3aGlsZSh6ZSAhPSBudWxsKXsKICAgICAgICAgICAgICAgIFN0cmluZyBmaWxlTmFtZSA9
IHplLmdldE5hbWUoKTsKICAgICAgICAgICAgICAgIEZpbGUgbmV3RmlsZSA9IG5ldyBGaWxlKGRl
c3REaXIgKyBGaWxlLnNlcGFyYXRvciArIGZpbGVOYW1lKTsKICAgICAgICAgICAgICAgIC8vY3Jl
YXRlIGRpcmVjdG9yaWVzIGZvciBzdWIgZGlyZWN0b3JpZXMgaW4gemlwCiAgICAgICAgICAgICAg
ICBuZXcgRmlsZShuZXdGaWxlLmdldFBhcmVudCgpKS5ta2RpcnMoKTsKICAgICAgICAgICAgICAg
IEZpbGVPdXRwdXRTdHJlYW0gZm9zID0gbmV3IEZpbGVPdXRwdXRTdHJlYW0obmV3RmlsZSk7CiAg
ICAgICAgICAgICAgICBpbnQgbGVuOwogICAgICAgICAgICAgICAgd2hpbGUgKChsZW4gPSB6aXMu
cmVhZChidWZmZXIpKSA+IDApIHsKICAgICAgICAgICAgICAgIGZvcy53cml0ZShidWZmZXIsIDAs
IGxlbik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3MuY2xvc2UoKTsKICAg
ICAgICAgICAgICAgIC8vY2xvc2UgdGhpcyBaaXBFbnRyeQogICAgICAgICAgICAgICAgemlzLmNs
b3NlRW50cnkoKTsKICAgICAgICAgICAgICAgIHplID0gemlzLmdldE5leHRFbnRyeSgpOwogICAg
ICAgICAgICB9CiAgICAgICAgICAgIC8vY2xvc2UgbGFzdCBaaXBFbnRyeQogICAgICAgICAgICB6
aXMuY2xvc2VFbnRyeSgpOwogICAgICAgICAgICB6aXMuY2xvc2UoKTsKICAgICAgICAgICAgZmlz
LmNsb3NlKCk7CiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgewogICAgICAgICAgICBl
LnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgIH0KICAgICAgICAKICAgIH0KfQoJ</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
    <value>com.wm.app.b2b.server.ServerAPI</value>
    <value>com.ibm.icu.text.SimpleDateFormat</value>
    <value>com.wm.util.coder.JSONCoder</value>
    <value>java.io.BufferedOutputStream</value>
    <value>java.io.BufferedReader</value>
    <value>java.io.ByteArrayInputStream</value>
    <value>java.io.File</value>
    <value>java.io.FileInputStream</value>
    <value>java.io.FileOutputStream</value>
    <value>java.io.FilenameFilter</value>
    <value>java.io.IOException</value>
    <value>java.io.InputStream</value>
    <value>java.io.InputStreamReader</value>
    <value>java.io.OutputStream</value>
    <value>java.math.BigInteger</value>
    <value>java.nio.file.CopyOption</value>
    <value>java.nio.file.FileAlreadyExistsException</value>
    <value>java.nio.file.FileSystems</value>
    <value>java.nio.file.FileVisitResult</value>
    <value>java.nio.file.Files</value>
    <value>java.nio.file.NoSuchFileException</value>
    <value>java.nio.file.Path</value>
    <value>java.nio.file.Paths</value>
    <value>java.nio.file.SimpleFileVisitor</value>
    <value>java.nio.file.StandardCopyOption</value>
    <value>java.nio.file.attribute.BasicFileAttributes</value>
    <value>java.util.ArrayList</value>
    <value>java.util.Date</value>
    <value>java.util.Enumeration</value>
    <value>java.util.List</value>
    <value>java.util.zip.ZipEntry</value>
    <value>java.util.zip.ZipInputStream</value>
    <value>java.util.zip.ZipOutputStream</value>
    <value>org.apache.commons.compress.archivers.tar.TarArchiveEntry</value>
    <value>org.apache.commons.compress.archivers.tar.TarArchiveInputStream</value>
    <value>org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream</value>
    <value>org.apache.commons.compress.utils.IOUtils</value>
  </array>
</Values>
